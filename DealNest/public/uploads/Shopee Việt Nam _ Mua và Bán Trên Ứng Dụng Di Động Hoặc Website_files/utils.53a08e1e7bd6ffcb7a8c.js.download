(self.miniJsonp=self.miniJsonp||[]).push([[1493],{96296:function(e,t,n){var r,o,a;e.exports=(r=n(14906),o=n(58518),a=n(69483),function(){"use strict";var e={95:function(e,t,n){n.d(t,{D:function(){return u},t:function(){return _}});var r=n(661),o=n.n(r),a=n(480),i=!1,c=function(e,t){i=!0;var n=t||(0,a.CE)();o().init({lng:n,fallbackLng:n,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";i||c({resources:{}},e),o().changeLanguage(e),o().addResourceBundle(e,n,t,!0,!0)},_=o().t.bind(o())},480:function(e,t,n){n.d(t,{$S:function(){return C},CE:function(){return x},E3:function(){return P},H9:function(){return E},IE:function(){return L},JS:function(){return d},Jy:function(){return N},L6:function(){return w},NJ:function(){return m},S1:function(){return u},Tb:function(){return y},Vm:function(){return M},X7:function(){return Y},Y8:function(){return v},YH:function(){return b},Yc:function(){return f},dV:function(){return G},ef:function(){return T},jz:function(){return F},pM:function(){return S},qk:function(){return A},u7:function(){return h},xC:function(){return D},z$:function(){return p}});var r,o,a,i,c={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},u=function(e,t,n){r=e.toLowerCase(),o="liveish"===t?"live-test":"stable"===t?"test-stable":t,a=n,i=c[r]||"en"},_=["my","br","mx","co","ar"],s=["id","th"],l=["us"],f=function(e){return _.includes(e)?"com.".concat(e):s.includes(e)?"co.".concat(e):l.includes(e)?"com":e},E=function(e){return"tw"===e?"xiapi":e.toLowerCase()},d=function(e){return f(e)},T=function(){return"live"===o?"":"".concat(o,".")},S=function(){return"live"===o?"shopee":"".concat(o,".shopee")},p=function(){return"cn"===r},v=function(){return"kr"===r};function g(){return m()&&!p()}function m(){var e=window.location.hostname;return e&&e.includes("cn")}var O=function(e,t){return"seller"===e?"vn"!==t||g()?"seller":"banhang":e},R=function(e,t){var n,a=t?t.toLowerCase():r;return g()?function(e,t){var n=t?t.toLowerCase():r;return"".concat(O(e,n),".").concat(E(n),".").concat(S(),".").concat("cn")}(e,a):"".concat(O(e,a),".").concat((n=window.location.hostname,n&&n.includes("shopeebrasil")?"live"===o?"shopeebrasil":"".concat(o,".shopeebrasil"):S()),".").concat(d(a))},A=function(e){return R("seller",e)},C=function(e){var t=e?e.toLowerCase():r;return"seller-service.cs.".concat(S(),".").concat(d(t))},M=function(){return"".concat(A(),"/webchat/api")},P=function(){return"".concat(A(),"/api")},h=function(e){var t=e?e.toLowerCase():r;return"cn"!==t&&"kr"!==t||(t="my"),m()?"".concat(E(t),".").concat(T()).concat("xiapibuy.com"):"".concat(S(),".").concat(d(t))},y=function(){var e=r;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(S(),".").concat(d(e))},I=["sg","my","th","ph","vn","id","tw","br"],N=function(e){var t=e?e.toLowerCase():r;if(p())return"https://s-cf-sg.shopeesz.com/file/";if(v())return"https://cf.shopee.sg/file/";var n=I.includes(t);return g()&&n?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(f(t),"/file/")},G=function(e){var t=e?e.toLowerCase():r;return"tw"===t&&m()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(f(t),"/file/")},D=function(){return"https://".concat(R("seller"),"/webchat/conversations")},b=function(){return"https://".concat(R("seller"),"/webchat")},L=function(){return o},Y=function(){return r},w=function(){return a},x=function(){return i},F=function(){return m()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"}},602:function(e){e.exports=r},661:function(e){e.exports=o},349:function(e){e.exports=a}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){n.r(i),n.d(i,{AccountType:function(){return J},AlertType:function(){return ee},ChatbotFromType:function(){return L},ChatbotPauseEntranceTypes:function(){return g},ChatbotServeToggle:function(){return V},ChatbotToggle:function(){return Y},ConversationListTab:function(){return w},ConversationSource:function(){return W},ConversationTypeEnum:function(){return M},CustomShareEvent:function(){return ue},DataFetchStatus:function(){return h},LS:function(){return it},LogisticsCardLabel:function(){return l},LogisticsEntranceTypes:function(){return S},LogisticsMessageTypes:function(){return Tn},MAX_MEDIA_NUM:function(){return a},MAX_Z_INDEX:function(){return se},MINI_MIN_TEXT_BOX_HEIGHT:function(){return E},MessageErrorCode:function(){return o},MessageLabelType:function(){return d},MessageOption:function(){return e},MessageSendStatus:function(){return r},MessageShortcutGroupType:function(){return c},MessageSource:function(){return K},MessageTypes:function(){return t},OfferStatus:function(){return G},OperationStatus:function(){return y},OrderDeliveryStatus:function(){return f},OrderDeliveryStatusKeyMap:function(){return T},QueueStatusEntranceType:function(){return v},RREntranceType:function(){return p},ReturnCardStatus:function(){return u},ReturnSolution:function(){return _},SellerUnreadStatus:function(){return Q},ServeTodayFolders:function(){return B},ServeTodayTab:function(){return H},ShareDataType:function(){return _e},SlaType:function(){return s},SocketConnectionStatus:function(){return D},SocketToAlertType:function(){return te},StartChatErrorCode:function(){return Z},StorageKey:function(){return ce},SubAccountRole:function(){return z},SwitchStatus:function(){return I},TrackerOperation:function(){return $},TranslationStatus:function(){return N},UnreadSource:function(){return X},capitalizeFirstLetter:function(){return Ve},changeLanguage:function(){return Bn.D},checkAIBannerGuide:function(){return nt},checkEmptyObject:function(){return le},checkMiniUnrepliedGuide:function(){return rt},cnDomainHash:function(){return Gn.H9},compareSameDayOfTimestamp:function(){return he},countUnreadMessage:function(){return Nn},customizeTime:function(){return Ae},debounce:function(){return ze},defaultLocalInMall:function(){return ae},detectTextAndTimestamp:function(){return kn},domainHash:function(){return Gn.Yc},domainPrefix:function(){return Gn.pM},domainSuffix:function(){return Gn.JS},envPrefix:function(){return Gn.ef},escapeRegex:function(){return bn},fillMessagePreview:function(){return Mn},formatMessageTime:function(){return Pe},formatTransifyKeyWithNumber:function(){return Fe},getApiServer:function(){return Gn.Vm},getCDNUrl:function(){return Gn.jz},getChatBotParams:function(){return On},getCrmPreviewParams:function(){return Rn},getCurrentTimestampString:function(){return Ln},getCustomMessageText:function(){return sn},getCustomPreviewParams:function(){return An},getFileServer:function(){return Gn.Jy},getFormattedTime:function(){return Me},getHasSameSourceAndTarget:function(){return mn},getItem:function(){return ct},getLocaleText:function(){return gn},getLogisticsCardTitle:function(){return hn},getLogisticsIssueCardTitle:function(){return yn},getMallUrl:function(){return Gn.u7},getMallUrlIgnoreCn:function(){return Gn.Tb},getMessageIsSend:function(){return Dn},getRRMessageTitle:function(){return Pn},getRowHeight:function(){return k},getRuntimeLocale:function(){return Gn.CE},getRuntimeRegion:function(){return Gn.X7},getRuntimeServer:function(){return Gn.IE},getRuntimeVersion:function(){return Gn.L6},getSCApiServer:function(){return Gn.E3},getSellerCenterUrl:function(){return Gn.qk},getSellerServiceUrl:function(){return Gn.$S},getServiceLocale:function(){return Xe},getSystemMessageByLocale:function(){return Cn},getTranslatedText:function(){return Hn},getTranslationLocale:function(){return We},getUrlParam:function(){return Ue},getVideoServer:function(){return Gn.dV},getWebChatPureUrl:function(){return Gn.YH},getWebChatUrl:function(){return Gn.xC},greaterThan:function(){return Ee},handleDisplayTranslation:function(){return Yn},hasTargetMessageOption:function(){return pn},init:function(){return Gn.S1},isConversationRead:function(){return q},isConversationUnread:function(){return j},isDeletedMessage:function(){return vn},isFromChatbotSession:function(){return In},isVisitingCNSC:function(){return Gn.z$},isVisitingCn:function(){return Gn.NJ},isVisitingKRSC:function(){return Gn.Y8},localeInMallToTspLocale:function(){return ie},newFormatMessageTime:function(){return Ie},persistLimit:function(){return st},previewMessage:function(){return Sn},removeItem:function(){return _t},setItem:function(){return ut},simpleEqualCheck:function(){return fe},throttle:function(){return Je},unifyLocale:function(){return qe},updateTimeLocale:function(){return ve}});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance",MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:"faq_bot_review_summary_card",MSG_TYPE_FAQ_BOT_GALLERY_CARD:"faq_bot_buyer_gallery_card",MSG_TYPE_RESTOCK_REMINDER_CARD:"bot_restock_reminder_card",MSG_TYPE_OUT_STOCK_CARD:"bot_out_stock_card"},r={SENDING:1,FAILED:2,SUCCEED:3},o={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,FAQ_PAUSED:55,DEFAULT:-1},a=9,c={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var u,_,s,l,f,E=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(u||(u={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(_||(_={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(s||(s={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(l||(l={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(f||(f={}));var d,T={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},S=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],p="rr_entrance",v="choice_queue_status",g=["noti_type_seller_send_message_in_chatbot","noti_type_seller_pause_chatbot"];function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function O(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function R(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.AUTO_REPLY=1]="AUTO_REPLY",e[e.OFFWORK_AUTO_REPLY=2]="OFFWORK_AUTO_REPLY",e[e.CHAT_ASSISTANT=3]="CHAT_ASSISTANT"}(d||(d={}));var M,P={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},h=C(C({},P),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),y=C(C({},P),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),I={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},N={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},G={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},D={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"},b={conversationCellForBCSubAccount:94,conversationCell:72,shopCardCell:212,shopListCell:72,voucherCell:146,conversationShopListCell:60,dropdownShopListCell:44,contactCell:48};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(M||(M={}));var L,Y,w={TODAY:"today",ALL:"all"},x=b,F=x.conversationCellForBCSubAccount,U=x.conversationCell,k=function(e){return e?F:U},H={PINNED:"pinned",UNREPLIED:"unreplied",AUTOREPLY:"auto_replied",MANUALREPLY:"manually_replied"},B=[H.PINNED,H.UNREPLIED,H.AUTOREPLY,H.MANUALREPLY],Q={SHOW:1,HIDE:2},V={PAUSE:"paused",RESUME:"show_resume",SHOWPAUSE:"show_paused"},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.unread_count,n=void 0===t?0:t,r=e.seller_unread_status;return"number"==typeof n&&n>0||r===Q.SHOW},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===e.unread_count&&e.seller_unread_status!==Q.SHOW},W={SYNC:4},K={SEND:7},X={PRELOAD:1},z={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},J={SELLER:"seller",SUBACCOUNT:"subaccount"},$={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover",ACTION_TOGGLE_ON_SUCCESS:"action_toggle_on_success",ACTION_TOGGLE_OFF_SUCCESS:"action_toggle_off_success"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(L||(L={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(Y||(Y={}));var Z,ee={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},te={pending:ee.warn,error:ee.error,resolved:ee.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(Z||(Z={}));var ne,re,oe,ae={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},ie={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},ce={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},ue={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},_e={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},se=199999,le=function(e){return!e||0===Object.keys(e).length},fe=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},Ee=function(e,t){if(!e)return!1;if(!t)return!0;var n=(e+="").length,r=(t+="").length;if(n!==r)return n>r;var o=e.split(""),a=null;return o.forEach((function(e,n){"boolean"!=typeof a&&(a=parseInt(e)>parseInt(t[n])||parseInt(e)===parseInt(t[n])&&null)})),!!a},de=n(602),Te=n.n(de),Se=n(95).t,pe=new(Te()),ve=function(e){return pe.locale.set(e)},ge=function(e){return e.format("hh:mm")};!function(e){e.Today="today",e.Yesterday="yesterday"}(ne||(ne={})),function(e){e[e.Time=0]="Time"}(re||(re={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(oe||(oe={}));var me,Oe=function(e){var t=e.value,n=e.date,r=e.suffix,o=e.prefix,a="",i="";if(o&&(a=Se("conversation_detail.message_list.".concat(o.type))+(void 0===o.separator?"  ":o.separator)),r){var c=r.type===re.Time?ge(n):"";i=(void 0===r.separator?", ":r.separator)+c}return a+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(me||(me={}));var Re=864e5,Ae=function(e,t){var n=t||{},r=n.noTodayFlag,o=n.noTimeFlag,a=n.needFullFormat,i=n.onlyKeepDate,c=n.isConvPreview,u=pe.create(e);if(a)return Oe({value:u.format("LHD"),date:u,suffix:{type:re.Time}});if(i)return u.format("LHD");var _=["tw","cn"].includes(pe.locale.current),s=function(e,t){var n=new Date,r=new Date(e);if(t){var o=n-r,a=(new Date).setHours(0,0,0,0);if(o<=6048e5&&o>=Re+(n.getTime()-a))return me.ThisWeek}if(n.getFullYear()===r.getFullYear()){if(n.getMonth()===r.getMonth()){var i=n.getDate(),c=r.getDate();return i===c?me.Today:i-1===c?me.Yesterday:me.ThisMonth}return me.ThisYear}return me.NONE}(e,c);switch(s){case me.Today:var l=r?void 0:{type:ne.Today},f={type:re.Time,separator:""};return Oe({value:"",date:u,prefix:l,suffix:f});case me.Yesterday:var E={type:ne.Yesterday},d=o?void 0:{type:re.Time,separator:""};return Oe({value:"",date:u,prefix:E,suffix:d});case me.ThisWeek:return Se("common.".concat(oe[new Date(e).getDay()]));case me.ThisMonth:case me.ThisYear:var T=o?void 0:{type:re.Time};return Oe({value:u.format(c?_?"MM/DD":"DD/MM":"LHDS"),date:u,suffix:T});default:var S=o?void 0:{type:re.Time};return Oe({value:u.format(c?_?"YY/MM/DD":"DD/MM/YY":"LHD"),date:u,suffix:S})}},Ce="YYYY-MM-DD hh:mm",Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pe.create(e).format(t||Ce)},Pe=function(e){var t=e.created_at,n=e.created_timestamp;return Ae(t||1e3*n,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},he=function(e,t){return pe.create(e).format("LHD")===pe.create(t).format("LHD")},ye={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},Ie=function(e,t){var n=1e3*e;switch(t){case"time":var r=pe.create(n);return ge(r);case"date":var o=new Date,a=new Date(n);if(o.getFullYear()===a.getFullYear()){if(o.getMonth()===a.getMonth()){var i=o.getDate(),c=a.getDate();if(i===c)return Se("conversation_detail.message_list.today");if(i-1===c)return Se("conversation_detail.message_list.yesterday");if(i-c<7){var u=a.getDay();return Se("common.".concat(ye[u]))}return pe.create(n).format("LHDS")}return pe.create(n).format("LHDS")}return pe.create(n).format("LHD")}},Ne=n(661),Ge=n.n(Ne),De=function(e){return 0===e||1===e?"one":e>=1e6?"many":"other"},be=function(e){return 1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other"},Le=function(e){return e<=1?"one":"other"},Ye={fr:De,pl:be,default:Le},we={fr:function(e,t){return"".concat(De(e),".").concat(De(t))},pl:function(e,t){return"".concat(be(e),".").concat(be(t))},default:function(e,t){return"".concat(Le(e),"_").concat(Le(t))}},xe=["fr","pl"],Fe=function(e,t,n){var r=Ge().language||"en",o=xe.includes(r)?r:"default";return void 0!==n?"".concat(e,"_").concat(we[o](t,n)):"".concat(e,"_").concat(Ye[o](t))},Ue=function(e,t){var n=t||window.location.search,r=null;if(n){var o=n.indexOf("?")+1,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");r=n.substr(o).match(a)}return r?unescape(r[2]):null};function ke(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be=["hans","hant"],Qe=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],Ve=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1))},je=function(e){if(e.includes("-")){var t=e.split("-");return Be.includes(t[1])?"".concat(t[0],"-").concat(Ve(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},qe=function(e){var t,n=(e||"en").toLowerCase(),r="en",o=ke(Qe);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.includes(n)){r=je(a);break}}}catch(e){o.e(e)}finally{o.f()}return r},We=function(e){var t=qe(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},Ke={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},Xe=function(e){var t=qe(e);return Ke[t]||"default"},ze=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now();return function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];t&&(clearTimeout(t),t=null),Date.now()-o>r?(e.apply(void 0,i),o=Date.now()):t=window.setTimeout((function(){e.apply(void 0,i),o=Date.now()}),n)}},Je=function(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null,c=0,u=function(){c=!1===a.leading?0:(new Date).getTime(),i=null,o=e.apply(n,r),i||(n=r=null)},_=function(){var _=(new Date).getTime();c||!1!==a.leading||(c=_);var s=t-(_-c);n=this;for(var l=arguments.length,f=new Array(l),E=0;E<l;E++)f[E]=arguments[E];return r=f,s<=0||s>t?(i&&(clearTimeout(i),i=null),c=_,o=e.apply(n,r),i||(n=r=null)):i||!1===a.trailing||(i=window.setTimeout(u,s)),o};return _},$e="AI-Banner",Ze="MiniChat-Unreplied-Filter",et="modal",tt=function(e,t){var n=t.superType,r=t.secondaryType,o=e.find((function(e){return e.name===n}));if(o){var a=o.children;if(a.length){var i=a.find((function(e){return e.name===r}));return i||!1}return!1}return!1},nt=function(e){return tt(e,{superType:$e,secondaryType:et})},rt=function(e){return tt(e,{superType:Ze,secondaryType:et})},ot=n(349),at=n.n(ot),it={getItem:function(e,t){try{var n=window.localStorage.getItem(e);return null==n?n:t?JSON.parse(n):n}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:function(e,t,n){try{var r=n?JSON.stringify(t):t;window.localStorage.setItem(e,r)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},ct=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?it.getItem(e):at().getItem(e)},ut=function(e,t){return at().setItem(e,t)},_t=function(e,t){return t?it.removeItem(e):at().removeItem(e)},st=at().supports(at().INDEXEDDB)||at().supports(at().WEBSQL)?1e3:100;function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Et,dt=n(95).t;function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=t.MSG_TYPE_TEXT,vt=t.MSG_TYPE_IMAGE,gt=t.MSG_TYPE_OFFER,mt=t.MSG_TYPE_PRODUCT,Ot=t.MSG_TYPE_ORDER,Rt=t.MSG_TYPE_STICKER,At=t.MSG_TYPE_NOTIFICATION,Ct=t.MSG_TYPE_VOUCHER,Mt=t.MSG_TYPE_ITEM_LIST,Pt=t.MSG_TYPE_FAQ,ht=t.MSG_TYPE_FAQ_QUESTION,yt=t.MSG_TYPE_FAQ_LIVEAGENT,It=t.MSG_TYPE_FAQ_FEEDBACK,Nt=t.MSG_TYPE_FAQ_UNSUPPORTED,Gt=t.MSG_TYPE_FAQ_FEEDBACK_PROMPT,Dt=t.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,bt=t.MSG_TYPE_BUNDLE_MESSAGE,Lt=t.MSG_TYPE_OPTION_PACK,Yt=t.MSG_TYPE_SELECTED_OPTION,wt=t.MSG_TYPE_VIDEO,xt=t.MSG_TYPE_IMAGE_WITH_TEXT,Ft=t.MSG_TYPE_RATE_CARD,Ut=t.MSG_TYPE_NEW_FAQ,kt=t.MSG_TYPE_FAQ_CATEGORY_CHOICE,Ht=t.MSG_TYPE_FAQ_QUESTION_LIST,Bt=t.MSG_TYPE_FAQ_TYPE_CHOICE,Qt=t.MSG_TYPE_FAQ_CATEGORY_LIST,Vt=t.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE,jt=t.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE,qt=t.FAQ_TYPE_BOT_RESPONSE_MESSAGE,Wt=t.MSG_TYPE_SHOPPING_CART,Kt=t.MSG_TYPE_CRM_ITEM_LIST,Xt=t.MSG_TYPE_RR,zt=t.MSG_TYPE_CRM_ORDER_RATE,Jt=t.MSG_TYPE_LOGISTICS_CARD,$t=t.MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD,Zt=t.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,en=t.MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER,tn=t.MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE,nn=t.MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD,rn=t.MSG_TYPE_OUT_STOCK_CARD,on=t.MSG_TYPE_RESTOCK_REMINDER_CARD,an=G.PENDING,cn=G.REJECTED,un="common.unsupported_message",_n=(R(Et={},yt,"faq.live_agent"),R(Et,Nt,"faq.new_unsupport_input"),R(Et,Gt,"faq.feedback_prompt"),R(Et,Dt,"faq.new_live_agent_prompt"),R(Et,wt,"conversation_detail.input_field.toolbar.video.tip"),R(Et,xt,"conversation_list.conversation_cell.new_image_message"),Et),sn=function(e){return dt(_n[e]||un)},ln=[Mt],fn=[wt,Nt,Gt,Dt,xt],En=[vt,bt,jt,gt,mt,Ot,Ct,Ft,Rt],dn=[Ht,Bt,Qt],Tn=[Jt,$t,Zt,en],Sn=function(t){var n=t.message,r=t.enableTranslation,o=t.locale,a=t.conversationShopId,i=t.currentSellerAccountId;if(!n)return{text:dt(un)};var c=n.type,u=n.content,_=void 0===u?{}:u,s=n.crm_message_preview,l=void 0===s?{}:s,f=n.message_option,E=n.source,T=n.send_status,m=n.custom_preview_text,O=n.label_info,R=(O=void 0===O?{}:O).label_type,A=We(o),C=[d.AUTO_REPLY,d.CHAT_ASSISTANT,d.OFFWORK_AUTO_REPLY].includes(R),M=l.text||null!=m&&m.text||!C?"":"[".concat(dt("common.ai_assistant"),"] ");if(l.text)return{text:"".concat(Hn(l,A))};if(pn(f,e.MSG_OPT_CENSORED_BLACKLIST))return{text:"".concat(M).concat(dt("common.blacklist.replaced_text"))};if(c){var P,h,y=_||{},I=y.text,N=void 0===I?"":I,G=y.title,D=y.opening,b=y.caption,L=y.translation,Y=y.product_name,w=y.sticker_name,x=y.chat_product_infos,F=void 0===x?[]:x,U=y.products,k=void 0===U?[]:U,H=y.rr_detail,B=y.user_id,Q=y.enquiry_info,V=void 0===Q?{}:Q,j=y.common_info,q=void 0===j?{}:j,W=y.bot_data,K=Dn(n,{isAgent:!1,shop_id:a}),X=function(e,t,n,r){var o,a=t||{},i=a.live_agent_text,c=void 0===i?[]:i,u=a.fixed_title,_=a.faq_type_choice_translation;if(fn.includes(e))o=c.length?gn(c,n):sn(e);else if(dn.includes(e))o=gn(e===Bt?_:u,n);else if(Tn.includes(e))o=dt("message.logistics_card.preview.prefix");else{var s=En.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):ln.includes(e)?"common.tips.recommended".concat(r?"":"_for_you"):"";o=s?"[".concat(dt(s),"]"):dt(un)}return o}(c,_,o,K);switch(c){case qt:var z=JSON.parse(W)||{},J=z.message,$=(J=void 0===J?{}:J).plain_text,Z=void 0===$?"":$,ee=z.reply_type;h=(h=1===ee||1001===ee?Z:null!=_&&_.preview_text?null==_?void 0:_.preview_text:dt(un))||(null==_?void 0:_.preview_text)||dt(un);break;case Ut:case Pt:h=D||dt("faq.no_set.chat_bot_title");break;case pt:if(K)h=N;else{var te=mn(_);h=!r||te||f===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(E)||2===T?N:(null==L?void 0:L.text)||N}break;case yt:case ht:case It:case Yt:case Lt:case kt:case Vt:h=N||G;break;case wt:h="[".concat(X,"]");break;case xt:h="[".concat(X,"] ").concat(b||G||N);break;case Nt:case Gt:case Dt:case Ht:case Bt:case Qt:h=X;break;case mt:h="".concat(X," ").concat(Y);break;case Rt:h=w?"[".concat(w,"]"):X;break;case Mt:var ne=F.map((function(e){return e.name})).join("; ");h="".concat(X," ").concat(ne);break;case At:var re=Cn(_||{},o),oe=re.notification_for_sender,ae=re.notification_for_receiver,ie=re.notifications_for_sender_hyperlink,ce=re.notifications_for_receiver_hyperlink;if([].concat(ft(S),[p,v],ft(g)).includes(_.notification_type)){if((h=K?ie:ce).includes("<a>")){var ue=h.split("<a>").join("");h=ue.split("</a>").join("")}}else h=K?oe:ae;break;case Ft:h="".concat(X," ").concat(dt(K?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case gt:var _e=_||{},se=_e.status,le=_e.products_count,fe=_e.offer_price;if(se)if(se===an){var Ee=dt("conversation_list.preview.offer_pending_".concat(K?"sender":"receiver"));h="".concat(X," ").concat(Ee,": ").concat(fe," x ").concat(le),K||(P=!0)}else{var de=se===cn?"declined":se;h="".concat(X," ").concat(dt("conversation_detail.workstation.offer_panel.".concat(de)))}else h=X;break;case Ot:h="".concat(X," ").concat(k.map((function(e){return e.title})).join("; "));break;case Ct:var Te=_||{},Se=Te.type,pe=Te.rule_text,ve=Te.discount_text;if(Se){var ge="[".concat(dt("conversation_detail.workstation.voucher_panel.".concat(Se,"_voucher")),"]");h="".concat(ge," ").concat(ve,", ").concat(pe)}else h=X;break;case Wt:h=dt("message.cart_reminder");break;case Kt:var me,Oe,Re,Ae=null!==(me=null==_?void 0:_.title)&&void 0!==me?me:{};h=(null===(Oe=Ae.translated_with_lang)||void 0===Oe||null===(Re=Oe.find((function(e){return e.language===We(o)})))||void 0===Re?void 0:Re.text)||Ae.text||dt(un);break;case Xt:var Ce=H.solution,Me=H.status,Pe=Pn({isBuyer:i===B,solution:Ce,status:Me});h="[".concat(dt("label.return_and_refund"),"]").concat(Pe);break;case zt:var he,ye;h=(null==m||null===(he=m.translated_text)||void 0===he||null===(ye=he.find((function(e){return e.translated_language===We(o)})))||void 0===ye?void 0:ye.translated_text)||(null==m?void 0:m.text)||dt(un),h=Hn(m,A)||dt(un);break;case Jt:case Zt:var Ie=hn(c,_,q.user_id===i,!0);h="[".concat(X,"] ").concat(Ie);break;case $t:var Ne=yn(V);h="[".concat(X,"] ").concat(Ne);break;case en:h="[".concat(X,"] ").concat(dt("message.late_delivery_compensation_voucher.title"));break;case tn:h=dt("text.customer_service_entrance");break;case nn:var Ge,De;h=(null==m||null===(Ge=m.translated_text)||void 0===Ge||null===(De=Ge.find((function(e){return e.translated_language===We(o)})))||void 0===De?void 0:De.translated_text)||(null==m?void 0:m.text)||dt(un),h=Hn(m,A)||dt(un);break;case rn:h="[".concat(dt("preview.set_restock_reminder"),"]");break;case on:h="[".concat(dt("preview.restock_reminder"),"]");break;default:h=X}return{text:"".concat(M).concat(h),isPendingReceivedOffer:P}}return{text:"".concat(M).concat(dt(un))}},pn=function(e,t){return(e&t)===t},vn=function(){return pn((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message_option,e.MSG_OPT_DELETE)},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return We(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())}))||e.find((function(e){return"en"===e.lang}));return(n||{}).text},mn=function(e){var t=e||{},n=t.translation,r=t.mid;if(!n)return!0;var o=(void 0===r?{}:r).source_language,a=void 0===o?"":o,i=n||{},c=i.final,u=i.mid,_=i.target_language,s=void 0===_?"":_,l=i.source_language,f=void 0===l?"":l,E=c?c.target_language:s,d=c?c.source_language:f,T=u?u.source_language:a;return T?T===E:d===E&&"unknown"!==d},On=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateMaxGeneralOptionHideTime,r=void 0===n||n,o=t.updateMessageOption,a=void 0===o||o,i=e||{},c=i.created_timestamp,u=i.message_option,_=a?{last_message_option:u}:{};return St(St({},r?{max_general_option_hide_time:c}:{}),_)},Rn=function(e){var t=e.crm_message_preview,n=void 0===t?{}:t;return n.text?{crm_message_preview:n}:{crm_message_preview:{}}},An=function(e){var t=e.custom_preview_text,n=void 0===t?{}:t;return n.text?{custom_preview_text:n}:{custom_preview_text:{}}},Cn=function(e,t){var n=e.noti_text_of_all_languages,r=void 0===n?[]:n;if(!r.length)return e;var o=r.find((function(e){return We(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())}));if(o)return o;var a=r.find((function(e){return"en"===e.language}));return a||e},Mn=function(e){var t=e.type,n=e.textContent,r=e.content,o={};switch(t){case Ot:o={products:(n||{}).products};break;case Ct:var a=n||{};o={rule_text:a.rule_text,discount_text:a.discount_text,type:a.type};break;case gt:var i=n||{};o={status:i.status,products_count:i.products_count,offer_price:i.offer_price};break;case mt:o={product_name:r.product_name||(null==n?void 0:n.name)}}return St(St({},e),{},{content:St(St({},r),o)})},Pn=function(e){var t=e.isBuyer,n=e.status,r=e.solution===_.Return?"return":"return_refund",o=n===u.Submit?"proposed":n===u.Refund?"succeed":"rejected";return dt("rr_message_title.".concat(t?"buyer":"seller",".").concat(r,".").concat(o))},hn=function(e,n,r,o){var a=n.common_info,i=(a=void 0===a?{}:a).card_label,c=a.order_delivery_status,u=n.logistic_tracking_info,_=(u=void 0===u?{}:u).estimate_delivery_time,s=u.stuck_time,E=n.expedite_delivery_button,d=e===t.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,S=i===l.Inquiry,p=T[f[c]],v="".concat(Me(1e3*_,"www"),", ").concat(Me(1e3*_,"LHDS")),g=o?v:"<a>".concat(v,"</a>"),m=Math.floor(s/86400),O="stuck"===p&&0===m,R="";if(d&&r&&!S)R=dt("message.expedited_logistics_card.title.buyer.expedite");else if(r){var A=E||d||c!==f.AfterGuarantee&&c!==f.AfterEstimated&&(c!==f.Stuck||S)?"":".unable_expedite";R=dt("message.".concat(e,".title.buyer.").concat(S?"inquiry":"expedite",".").concat(p).concat(A),{date:g,num:m}),O&&!d&&(R=S?dt("message.logistics_card.title.buyer.inquiry.normal",{date:g}):dt("message.logistics_card.title.buyer.expedite.nostuck".concat(A)))}else R=dt("message.logistics_card.title.seller.".concat(p),{date:g,num:m}),O&&(R="".concat(dt("message.logistics_card.title.seller.normal",{date:g})).concat(dt("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return R},yn=function(e){var t=e||{},n=t.display_sla_type,r=t.display_sla_value,o=t.enquiry_id;if(n===s.day&&r&&o&&"0"!==o){var a="".concat(s[n],"s");return dt("message.issue_enquiry_card.title.".concat(a),{value:r})}return dt("message.issue_enquiry_card.title.unavailable")},In=function(t){return(t&e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER)===e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER},Nn=function(e,t){return!t&&!In(e)},Gn=n(480),Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isAgent,r=t.to_tob_user_id,o=t.shop_id,a=e.from_id,i=e.to_shop_id;return n?a!==r:i!==o},bn=function(e){return e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&")},Ln=function(){return Math.ceil(Date.now()/1e3).toString()},Yn=function(e,t,n,r){return t?e:e||r&&!!n},wn=function(e){return"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px")},xn=function(e){var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},Fn=function(e,t,n){var r=document.createElement("pre"),o=wn(e);if(r.id="chat-text-pre",r.setAttribute("style",o),r.innerText=t,n){var a=xn(n);r.appendChild(a)}return r},Un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";document.body.appendChild(e);var n=e.getBoundingClientRect(),r="height"===t?n.height:n.width;return document.body.removeChild(e),r},kn=function(e,t,n){var r=Fn(n,e),o=xn(t),a=Fn(n,e,t),i=Un(r);return{conflict:i!==Un(a),multiLine:i>38,timeWidth:Un(o,"width"),widthConflict:Un(a,"width")>Un(r,"width")}},Hn=function(e,t){var n,r,o,a;return(null==e||null===(n=e.translated_with_lang)||void 0===n||null===(r=n.find((function(e){return e.language===t})))||void 0===r?void 0:r.text)||(null==e||null===(o=e.translated_text)||void 0===o||null===(a=o.find((function(e){return e.translated_language===t})))||void 0===a?void 0:a.translated_text)||(null==e?void 0:e.text)||""},Bn=n(95)}(),i}())},29494:function(e,t,n){"use strict";e.exports=n(96296)}}]);