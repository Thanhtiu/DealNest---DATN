(self.miniJsonp=self.miniJsonp||[]).push([[4997],{55698:function(e,n,r){var t,o,c,u,i;e.exports=(t=r(82677),o=r(20573),c=r(53402),u=r(96961),i=r(29494),function(){"use strict";var e={383:function(e){e.exports=t},975:function(e){e.exports=o},511:function(e){e.exports=c},644:function(e){e.exports=u},855:function(e){e.exports=i}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var c=n[t]={exports:{}};return e[t](c,c.exports,r),c.exports}r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){function e(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function n(n,r){if(n){if("string"==typeof n)return e(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e(n,r):void 0}}function t(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,c=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(t=r.next()).done)&&(c.push(t.value),!n||c.length!==n);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return c}}(e,r)||n(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r){return function(n){if(Array.isArray(n))return e(n)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||n(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.r(a),r.d(a,{activeListTabSelector:function(){return p},allConversationIdsSelector:function(){return U},conversationBeenDeletedSelector:function(){return he},conversationDirectionSelector:function(){return G},conversationHttpStatusSelector:function(){return Y},conversationIdsSelector:function(){return L},conversationLastMessageSelector:function(){return rn},conversationsSelector:function(){return V},curConvsMessageSelector:function(){return fn},curMessagesRelatedSelector:function(){return en},currentBuyerIdSelector:function(){return ee},currentBuyerSelector:function(){return de},currentBuyerShopIdSelector:function(){return fe},currentBuyerShopSelector:function(){return ve},currentConversationBuyerIdSelectors:function(){return oe},currentConversationCanReadSelector:function(){return x},currentConversationHasLoadingSelector:function(){return Ne},currentConversationIdSelector:function(){return F},currentConversationMaxOptionHideTimeSelectors:function(){return ue},currentConversationSelector:function(){return Z},currentConversationShopIdSelectors:function(){return te},currentConversationShopRegionSelectors:function(){return re},currentConversationShopSelectors:function(){return ne},currentConversationStatusSelectors:function(){return ce},currentConversationToNameSelector:function(){return Te},currentConversationTranslationAccessSelector:function(){return ye},currentPendingOffersCountSelector:function(){return Ie},currentSellerAccountIdSelector:function(){return Pe},currentShopIdSelector:function(){return le},defaultCount:function(){return Ae},degradeConversationIdsSelector:function(){return Q},feedbackSelector:function(){return yn},filterSelector:function(){return W},filteredConversationsSelector:function(){return $},getConversation:function(){return ie},getConversationPendingOffersCountSelector:function(){return Ee},getConversationShopId:function(){return ae},getConversationShopRegion:function(){return Me},getConversations:function(){return se},getConversationsSelector:function(){return E},getConvsMessagesRelatedSelector:function(){return nn},getMessageSelector:function(){return Ze},hasPinFlagSelector:function(){return m},inlocationSelector:function(){return k},isNavigateToUnreadMessageSelector:function(){return _e},keywordSelector:function(){return Se},listsHashSelector:function(){return me},mediaListSelector:function(){return gn},messagesRelatedMapSelector:function(){return Qe},missedReadNoticeCountSelector:function(){return z},navigateToUnreadMessageIdSelector:function(){return Oe},noticesCountSelector:function(){return hn},pinnedConversationIdsSelector:function(){return D},readRequestIdsSelector:function(){return N},reconnectFlagSelector:function(){return mn},redirectionInfoSelector:function(){return ze},replyToMessageSelector:function(){return pn},resultsSelector:function(){return pe},reverseMessagesSelector:function(){return an},searchConversationHttpStatusSelector:function(){return ge},selectVideoInfoByKey:function(){return $e},selectVideoInfoKeyByVid:function(){return Xe},serveTodayAllConversationIdsSelector:function(){return I},serveTodayAutoRepliedConversationIdsSelector:function(){return O},serveTodayAutoRepliedConversationsSelector:function(){return P},serveTodayConversationHttpStatusSelector:function(){return h},serveTodayConversationsSelector:function(){return w},serveTodayFolderStatusSelector:function(){return g},serveTodayManuallyRepliedConversationIdsSelector:function(){return R},serveTodayManuallyRepliedConversationsSelector:function(){return A},serveTodayOnlyConversationsSelector:function(){return j},serveTodayPinnedConversationIdsSelector:function(){return C},serveTodayUnrepliedConversationIdsSelector:function(){return _},serveTodayUnrepliedConversationsSelector:function(){return M},serveTodayWaitingUpdatedRecordsSelector:function(){return y},shopAccessSelector:function(){return Ce},showFrozenTipSelector:function(){return De},showLoadingMessagesMapSelector:function(){return Ue},singleConversationIdsSelector:function(){return b},singleConversationMarkInfoSelector:function(){return Le},singleConversationStateSelector:function(){return T},sortedConversationsSelector:function(){return X},totalConversationsCountSelector:function(){return we},twoTabsAllConversationIdsSelector:function(){return ke},updateTimeNowSelector:function(){return B}});var c=r(383),u=r(975),i=r(511),s=r(644);function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var d=r(855);function f(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){l(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var S=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.serveToday)||{}},p=(0,u.createSelector)(S,(function(e){return e.activeListTab})),g=(0,u.createSelector)(S,(function(e){return e.folderStatus})),y=(0,u.createSelector)(S,(function(e){return e.waitingUpdatedRecords||{}})),m=(0,u.createSelector)(S,(function(e){return e.hasPinFlag||{}})),h=(0,u.createSelector)(S,(function(e){return e.status||""})),T=function(e){return(0,u.createSelector)(S,(function(n){return n[e]||{}}))},b=function(e){return(0,u.createSelector)(T(e),(function(e){return e.conversationIds||[]}))},C=(0,u.createSelector)(S,(function(e){return(e[d.ServeTodayTab.PINNED]||{}).conversationIds||[]})),_=(0,u.createSelector)(S,(function(e){return(e[d.ServeTodayTab.UNREPLIED]||{}).conversationIds||[]})),O=(0,u.createSelector)(S,(function(e){return(e[d.ServeTodayTab.AUTOREPLY]||{}).conversationIds||[]})),R=(0,u.createSelector)(S,(function(e){return(e[d.ServeTodayTab.MANUALREPLY]||{}).conversationIds||[]})),I=(0,u.createSelector)(C,_,O,R,(function(e,n,r,t){return[].concat(o(e),o(n),o(r),o(t))})),E=function(e){return(0,u.createSelector)(i.conversationEntitiesSelector,b(e),(function(e,n){return((0,c.denormalize)(n,[s.conversationSchema],{conversations:e})||[]).filter(Boolean)}))},M=(0,u.createSelector)(E(d.ServeTodayTab.UNREPLIED),(function(e){return e.sort((function(e,n){return parseInt(n.latest_message_id)-parseInt(e.latest_message_id)})),e})),P=(0,u.createSelector)(E(d.ServeTodayTab.AUTOREPLY),(function(e){return e.sort((function(e,n){return parseInt(n.latest_message_id)-parseInt(e.latest_message_id)}))})),A=(0,u.createSelector)(E(d.ServeTodayTab.MANUALREPLY),(function(e){return e.sort((function(e,n){return parseInt(n.latest_message_id)-parseInt(e.latest_message_id)}))})),w=(0,u.createSelector)(g,E(d.ServeTodayTab.PINNED),M,P,A,(function(e,n,r,t,c){var u,i=[],a=(l(u={},d.ServeTodayTab.PINNED,n),l(u,d.ServeTodayTab.UNREPLIED,r),l(u,d.ServeTodayTab.AUTOREPLY,t),l(u,d.ServeTodayTab.MANUALREPLY,c),u),s=n.map((function(e){return e.id}))||[];return d.ServeTodayFolders.forEach((function(n){var r=a[n];n!==d.ServeTodayTab.PINNED&&(r=r.filter((function(e){return!s.includes(e.id)})),n===d.ServeTodayTab.AUTOREPLY&&(r=r.map((function(e){return v(v({},e),{},{isAutoReply:!0})})))),r.length&&(i=e[n]?i.concat([{key:n,id:"".concat(n,"Tab")}].concat(o(r))):i.concat([{key:n,id:"".concat(n,"Tab")}]))})),i})),j=(0,u.createSelector)(w,(function(e){return e.filter((function(e){return!e.id.includes("Tab")}))})),L=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.conversationIds)||[]},D=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.pinnedConversationIds)||[]},U=(0,u.createSelector)(L,D,(function(e,n){var r=e.filter((function(e){return!n.includes(e)}));return n.concat(r)})),N=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.readRequestIds)||[]},z=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.missedReadNoticeCount)||0},k=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.inlocation)||!1},B=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.updateTimeNow)||"0"},F=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.currentConversationId)||null},x=function(e){var n;return(0,i.judgeUndefined)({defaultValue:!0,value:null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.currentConversationCanRead})},Y=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.status)||""},G=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.direction)||""},V=(0,u.createSelector)(i.conversationEntitiesSelector,U,(function(e,n){return((0,c.denormalize)(n,[s.conversationSchema],{conversations:e})||[]).filter(Boolean)})),H=(0,u.createSelector)(V,F,(function(e,n){return e.filter((function(e){var r=e.id,t=e.unread_count;return e&&(t>0||r===n)}))})),J=(0,u.createSelector)(V,(function(e){return e.filter((function(e){return e.isPinned}))})),K=(0,u.createSelector)(V,(function(e){return e.filter((function(e){return e.status&&"closed"===e.status}))})),q=(0,u.createSelector)(V,F,(function(e,n){return e.filter((function(e){var r=e.unreplied,t=e.id;return void 0===r||r||!r&&t===n}))})),Q=(0,u.createSelector)(V,(function(e){return e.filter((function(e){return e.lack})).map((function(e){return e.id}))||[]})),W=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.filter)||"All"},$=(0,u.createSelector)(W,V,H,J,K,q,(function(e,n,r,t,o,c){return{All:n,Unread:r,Pinned:t,Closed:o,Unreplied:c}[e]})),X=(0,u.createSelector)($,D,i.waitingTimeFilterSelector,W,(function(e,n,r,t){var o=e.filter((function(e){return!n.includes(e.id)})),c=e.filter((function(e){return n.includes(e.id)}));return o.sort((function(e,n){return parseInt(n.latest_message_id)-parseInt(e.latest_message_id)})),c.concat(o).filter((function(e){return void 0===e.faking}))})),Z=(0,u.createSelector)(V,w,F,i.isSubAccountSelector,k,i.userEntitiesSelector,i.conversationEntitiesSelector,i.showChatServingFeatureSelector,(function(e,n,r,t,u,i,a,l){var d=(l?[].concat(o(e),o(n)):e).find((function(e){return e.id===r}))||{};if(u&&!d.id&&(d=(0,c.denormalize)(r,s.conversationSchema,{conversations:a})||{}),!t&&d.lack){var f=d.to_id,v=(0,c.denormalize)(f,s.userSchema,{users:i})||{},S={to_shop_id:v.shop_id,to_status:v.status,to_name:v.name||"-",to_avatar:v.avatar};return Object.assign(d,S)}return d})),ee=(0,u.createSelector)(Z,(function(e){return(e||{}).to_id||null})),ne=(0,u.createSelector)(Z,i.shopsEntitiesSelector,(function(e,n){return(0,c.denormalize)(e.shop_id,s.shopSchema,{shops:n})||{}})),re=(0,u.createSelector)(ne,(function(e){return(null==e?void 0:e.country)||"SG"})),te=(0,u.createSelector)(Z,(function(e){return e.shop_id})),oe=(0,u.createSelector)(Z,(function(e){return e.to_id})),ce=(0,u.createSelector)(Z,(function(e){return e.status})),ue=(0,u.createSelector)(Z,(function(e){return e.max_general_option_hide_time})),ie=function(e){return(0,u.createSelector)(i.conversationEntitiesSelector,(function(n){return(0,c.denormalize)(e,s.conversationSchema,{conversations:n})||{}}))},ae=function(e){return(0,u.createSelector)(ie(e),(function(e){return e.shop_id}))},se=function(e){return(0,u.createSelector)(V,w,i.showChatServingFeatureSelector,(function(n,r,t){var c=t?[].concat(o(n),o(r)):n;return e.map((function(e){return c.find((function(n){return n.id===e}))})).filter(Boolean)}))},le=(0,u.createSelector)(Z,(function(e){return(e||{}).shop_id||null})),de=(0,u.createSelector)(i.userEntitiesSelector,Z,(function(e,n){return n?(0,c.denormalize)(n.to_id,s.userSchema,{users:e}):{}})),fe=(0,u.createSelector)(Z,(function(e){return(e||{}).to_shop_id||null})),ve=(0,u.createSelector)(fe,i.shopsEntitiesSelector,(function(e,n){return(0,c.denormalize)(e,s.shopSchema,{shops:n})||{}})),Se=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.keyword)||""},pe=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.results)||[]},ge=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.searchStatus)||""},ye=(0,u.createSelector)(Z,(function(e){return e.translationAccess})),me=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.listsHash)||{}},he=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.conversationBeenDeleted)||!1},Te=(0,u.createSelector)(Z,(function(e){return(e||{}).to_name})),be={hasSCAccess:!0,hasEditOrderAccess:!0,hasViewOrderAccess:!0,hasViewProductAccess:!0,hasEditVoucherAccess:!0,hasViewVoucherAccess:!0,hasViewRrOrderAccess:!0,hasOrderDetailAccess:!0},Ce=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.access)||be},_e=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.isNavigateToUnreadMessage)||!1},Oe=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.navigateToUnreadMessageId)||""},Re=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.pendingOffersCount)||{}},Ie=(0,u.createSelector)(Z,Re,(function(e,n){var r=e.shop_id,t=e.to_id;return n["".concat(r,"_").concat(t)]||0})),Ee=function(e){return(0,u.createSelector)(ie(e),Re,(function(e,n){var r=e.shop_id,t=e.to_id;return n["".concat(r,"_").concat(t)]||0}))},Me=function(e){return(0,u.createSelector)(ae(e),i.shopsEntitiesSelector,(function(e,n){var r=(0,c.denormalize)(e,s.shopSchema,{shops:n})||{};return(null==r?void 0:r.country)||"SG"}))},Pe=(0,u.createSelector)(i.isSubAccountSelector,i.currentUserIdSelector,ne,(function(e,n,r){return e?r.user_id:n})),Ae={unrepliedCount:0,duesoonCount:0,overdueCount:0,pinnedCount:0,unreadCount:0,serveTodayUnrepliedCount:0,serveTodayDuesoonCount:0,serveTodayOverdueCount:0,serveTodayPinnedCount:0,serveTodayBotRepliedCount:0,serveTodayManualRepliedCount:0},we=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.totalConversationsCount)||Ae},je=function(e){var n;return(null==e||null===(n=e.conversationReducer)||void 0===n?void 0:n.conversationMark)||{}},Le=function(e){return(0,u.createSelector)(je,(function(n){return n[e]}))},De=(0,u.createSelector)(i.shopTranslationSettingsSelector,i.isSubAccountSelector,le,i.currentUserShopIdSelector,(function(e,n,r,t){return"frozen"===(e[n?r:t]||{}).userStatus})),Ue=function(e){var n;return null===(n=e.conversationReducer)||void 0===n?void 0:n.showLoadingMessagesMap},Ne=(0,u.createSelector)(F,Ue,(function(e,n){var r,o,c=n&&n[e],u=Object.entries(c||{})||[],i=u.some((function(e){var n=t(e,2),r=(n[0],n[1]);return null==r?void 0:r.showLoading}));return u.forEach((function(e,n){var c=t(e,2),u=(c[0],c[1]),i=u.startTime;(0===n||i<r)&&(r=i,o=u.isSend)})),{hasLoading:i,isSend:o,earliestStartTime:r}})),ze=function(e){var n;return null===(n=e.conversationReducer)||void 0===n?void 0:n.redirectionInfo},ke=(0,u.createSelector)(i.showChatServingFeatureSelector,U,I,(function(e,n,r){return e?[].concat(o(n),o(r)):n}));function Be(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Fe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Be(Object(r),!0).forEach((function(n){l(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var xe,Ye=d.MessageTypes.MSG_TYPE_OFFER,Ge=d.MessageTypes.MSG_TYPE_ORDER,Ve=d.MessageTypes.MSG_TYPE_PRODUCT,He=d.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED,Je=d.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,Ke=d.MessageTypes.MSG_TYPE_RATE_CARD,qe=[Ge,Ve],Qe=(0,u.createSelector)((function(e){return e}),(function(e){return(e.messageReducer||{}).messagesRelatedMap||{}})),We=function(e){var n;return(null===(n=e.messageReducer)||void 0===n?void 0:n.videoMap)||{}},$e=function(e){return(0,u.createSelector)(We,(function(n){return JSON.parse(JSON.stringify(n[e]||{}))}))},Xe=function(e){return(0,u.createSelector)(We,(function(n){return Object.keys(n).find((function(r){return n[r].vid===e}))}))},Ze=function(e){return(0,u.createSelector)(i.messageEntitiesSelector,(function(n){return(0,c.denormalize)(e,s.messageSchema,{messages:n})}))},en=(0,u.createSelector)(F,Qe,(function(e,n){return n[e]||{all:[]}})),nn=function(e){return(0,u.createSelector)(Qe,(function(n){return n[e]||{all:[],sending:[],failed:[]}}))},rn=(xe=function(e){return(0,u.createSelector)(nn(e),ie(e),i.messageEntitiesSelector,(function(e,n,r){return(0,i.getConversationLastMessage)(e,n,r)}))},function(){var e=Array.prototype.slice.call(arguments);return xe.memoize=xe.memoize||{},e in xe.memoize?xe.memoize[e]:xe.memoize[e]=xe.apply(this,e)}),tn=(0,u.createSelector)(en,(function(e){var n=o(e.all||[]);return e.securityTipsMessageId&&n.push(e.securityTipsMessageId),n})),on=(0,u.createSelector)(en,(function(e){return e.sending||[]})),cn=(0,u.createSelector)(en,(function(e){return e.failed||[]})),un=(0,u.createSelector)(i.messageEntitiesSelector,tn,(function(e,n){return((0,c.denormalize)(n,[s.messageSchema],{messages:e})||[]).filter(Boolean)})),an=(0,u.createSelector)(un,(function(e){return e.reverse()})),sn=(0,u.createSelector)(Z,an,(function(e,n){return e?n.filter(Boolean).reduce((function(e,n){var r=n.type,t=n.source_type,o=n.source_content,c=n.content;if(!t||r===Ye||[-1,0].includes(o["".concat(t,"_id")]))return e;if(qe.includes(r)&&o){var u="".concat(r,"_id");if(c[u]===o[u])return e}var i=e.lastSourceMessage,a=e.sourceList;if(!a.length)return{sourceList:a.concat(n),lastSourceMessage:n};if(t===Ve){var s=null==o?void 0:o.product_id,l=i.source_content&&i.source_content.product_id;if(!s||l===s)return e}else if(t===Ge){var d=null==o?void 0:o.order_id,f=i.source_content&&i.source_content.order_id;if(!d||[-1,0,f].includes(d))return e}return{sourceList:a.concat(n),lastSourceMessage:n}}),{sourceList:[],lastSourceMessage:null}).sourceList:[]})),ln=(0,u.createSelector)(sn,(function(e){return e.map((function(e){return e.id}))})),dn=(0,u.createSelector)(i.entitiesSelector,un,(function(e,n){var r=n.filter((function(e){return e&&e.type===Ye})).map((function(e){return e.content.offer_id}));return(0,c.denormalize)(r,[s.offerSchema],e)})),fn=(0,u.createSelector)(an,ln,on,cn,Z,i.rateCardEntitiesSelector,dn,(function(e,n,r,t,o,c,u){return o?e.filter((function(e){if(!e)return!1;var n=e.content,r=e.type;return!(![He,Je].includes(r)&&(!n||n&&0===Object.keys(n).length))})).map((function(e){var o=r.includes(e.id)?d.MessageSendStatus.SENDING:t.includes(e.id)?d.MessageSendStatus.FAILED:e.send_status?d.MessageSendStatus.SUCCEED:null,i=n.includes(e.id),a=Object.assign({},e,{send_status:o,hasMessageSource:i}),s=a,l=s.type,f=s.content,v=void 0===f?{}:f,S=s.message_option;switch(l){case Ye:var p=u.find((function(e){return e&&e.id===v.offer_id}));a=Object.assign({},a,{textContent:p});break;case Ke:var g=c[v.card_id];g&&(a=Object.assign({},a,{textContent:g}))}return(0,d.hasTargetMessageOption)(S,d.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(a=Fe(Fe({},a),{},{send_status:d.MessageSendStatus.FAILED,errorCode:d.MessageErrorCode.BLACKLIST})),a})):[]})),vn=(0,u.createSelector)((function(e){var n;return null==e||null===(n=e.messageReducer)||void 0===n?void 0:n.reply}),(function(e){return e?e.toMessageId:{}})),Sn=(0,u.createSelector)(F,vn,(function(e,n){return n[e]||""})),pn=(0,u.createSelector)(Sn,i.messageEntitiesSelector,(function(e,n){return(0,c.denormalize)(e,s.messageSchema,{messages:n})})),gn=(0,u.createSelector)(F,(function(e){var n;return(null===(n=e.mediaPreviewerReducer)||void 0===n?void 0:n.mediaMap)||{}}),(function(e,n){return n[e]||[]})),yn=function(e){var n;return(null==e||null===(n=e.socketReducer)||void 0===n?void 0:n.feedback)||void 0},mn=function(e){var n;return(null==e||null===(n=e.socketReducer)||void 0===n?void 0:n.reconnectFlag)||!1},hn=function(e){var n;return(null==e||null===(n=e.socketReducer)||void 0===n?void 0:n.noticesCount)||0}}(),a}())},66633:function(e,n,r){"use strict";e.exports=r(55698)}}]);